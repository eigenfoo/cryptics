<!DOCTYPE html>
<html xmlns="http://www.w3.org/1999/xhtml" lang="" xml:lang="">
<head>
  <meta charset="utf-8" />
  <meta name="generator" content="pandoc-markdown-css-theme" />
  <meta name="viewport" content="width=device-width, initial-scale=1.0, user-scalable=yes" />
  <meta name="dcterms.date" content="2021-09-08" />
  <title>Datasheet</title>
  <link rel="stylesheet" href="../../static/css/theme.css" />
  <link rel="stylesheet" href="../../static/css/skylighting-solarized-theme.css" />
</head>
<body>

<header>
  <nav>
  <a href="/">Home</a> · <a href="/datasheet">Datasheet</a> · <a href="/clues/clues">Data</a>
  </nav>
<h1 class="title">Datasheet</h1>
<blockquote class="metadata">
<p class="date "><time datetime="2021-09-08">Last updated 2021-09-08</time></p>
</blockquote>
</header>


<main>
<h2 id="motivation">Motivation</h2>
<h3 id="why-was-this-dataset-created">Why was this dataset created?</h3>
<p>This dataset was originally a project for me to practice my webscraping and data processing skills. Since then, it has evolved to become a potential resource for cryptic crossword solvers and constructors - for example, one might use this dataset as a lookup table for answers, or to see how an answer has been clued in the past by other constructors.</p>
<p>While there is prior art in datasets for cryptic crossword clue datasets (<a href="https://arxiv.org/abs/2104.08620"><em>Decrypting Cryptic Crosswords</em> by Rozner et al.</a> and <a href="https://arxiv.org/abs/2103.01242"><em>Cryptonite</em> by Efrat et al.</a>), to my knowledge this is the first such dataset that is at least as large as the research datasets and is openly accessible.</p>
<h3 id="who-created-this-dataset-and-on-whose-behalf-who-funded-the-creation-of-this-dataset">Who created this dataset and on whose behalf? Who funded the creation of this dataset?</h3>
<p>This dataset was created by me (<a href="https://eigenfoo.xyz">George Ho</a>) as a side project in my free time. Any and all expenses were covered by me personally.</p>
<h2 id="composition">Composition</h2>
<h3 id="what-do-the-rows-that-comprise-this-dataset-represent">What do the rows that comprise this dataset represent?</h3>
<p>Each row represents one clue from a published cryptic crossword.</p>
<h3 id="how-many-rows-are-there-in-total-of-each-type-if-appropriate">How many rows are there in total (of each type, if appropriate)?</h3>
<p>Clues are sourced from three cryptic crossword blogs and a few online archives of cryptic crosswords (for more details, see the <em>Collection Process</em> section).</p>
<p>As of September 2021, the number of rows break down as so:</p>
<table>
<colgroup>
<col style="width: 82%" />
<col style="width: 17%" />
</colgroup>
<thead>
<tr class="header">
<th>Source</th>
<th style="text-align: right;">Number of Clues</th>
</tr>
</thead>
<tbody>
<tr class="odd">
<td>http://bigdave44.com/</td>
<td style="text-align: right;">208009</td>
</tr>
<tr class="even">
<td>http://www.fifteensquared.net/</td>
<td style="text-align: right;">206493</td>
</tr>
<tr class="odd">
<td>https://times-xwd-times.livejournal.com/</td>
<td style="text-align: right;">97238</td>
</tr>
<tr class="even">
<td>https://archive.nytimes.com/www.nytimes.com/premium/xword/cryptic-archive.html</td>
<td style="text-align: right;">6858</td>
</tr>
<tr class="odd">
<td>Total</td>
<td style="text-align: right;">518598</td>
</tr>
</tbody>
</table>
<h3 id="does-this-dataset-contain-all-possible-rows-or-is-it-a-sample-not-necessarily-random-of-rows-from-a-larger-set">Does this dataset contain all possible rows or is it a sample (not necessarily random) of rows from a larger set?</h3>
<p>The dataset is a large portion of the scraped blog posts (and may be considered exhaustive or nearly so).</p>
<p>However, there are many reasons why a clue may be missing from the dataset - in order for a clue to be included, the following must be true:</p>
<ol type="1">
<li>The crossword must be covered by a blog
<ul>
<li>The three blogs cover exclusively British newspapers. As such, the resulting dataset is heavy in British jargon, such as slang, idioms or names of British towns or royalty.</li>
</ul></li>
<li>The blog must publish a blog post
<ul>
<li>In particular, the blog must include at least the clues and answers of the crossword.</li>
<li>Many blog posts from the sources are not about crosswords at all (e.g. they may be administrative announcements), and those that are may not include the clues (instead simply publishing the puzzle name, clue numbers, answers and annotations).</li>
</ul></li>
<li>The blog post must be parseable
<ul>
<li>As explained in the <em>Collection Process</em> section, the clues and answers are extracted from the raw HTML by a collection of parsing functions. If none of the parsing functions successfully return parsed clues, the raw HTML is deemed “unparseable” and is skipped.</li>
</ul></li>
</ol>
<h3 id="what-data-does-each-row-consist-of">What data does each row consist of?</h3>
<p>There are seven columns:</p>
<ol type="1">
<li><code>clue</code>, e.g. <code>labourers going around spotted tools (8)</code></li>
<li><code>answer</code>, e.g. <code>HANDSAWS</code></li>
<li><code>definition</code>, e.g. <code>tools</code></li>
<li><code>clue_number</code>, e.g. <code>17a</code></li>
<li><code>puzzle_date</code>: date the puzzle was published, e.g. <code>2017-08-25</code></li>
<li><code>puzzle_name</code>: name of the publication and/or puzzle, e.g. <code>Quick Cryptic 904</code></li>
<li><code>puzzle_url</code>: if available, a URL to the puzzle itself.</li>
</ol>
<h3 id="is-any-information-missing-from-individual-rows">Is any information missing from individual rows?</h3>
<p>Less than 5% of all rows include a <code>puzzle_url</code>. Some data may also be missing (or be <code>NaN</code>s) due to data preprocessing errors (see below).</p>
<p>Furthermore, some columns have been scrubbed prior to publishing:</p>
<ul>
<li><code>source_url</code>: the URL of the scraped blog post from which this clue comes</li>
<li><code>annotation</code>: a brief explanation and/or commentary from the blogger</li>
<li><code>is_reviewed</code>: whether this clue has been reviewed by a human evaluator</li>
<li><code>reviewed_datetime</code>: if the clue <code>is_reviewed</code>, the datetime at which it was reviewed</li>
</ul>
<p>These columns have been dropped to respect the copyright of the scraped blogs. While it is fair use to republish the cryptic clues in a transformatively different structured format, the blogs hold the copyright to any annotations and commentary on the clues.</p>
<h3 id="are-there-any-errors-sources-of-noise-or-redundancies-in-this-dataset">Are there any errors, sources of noise, or redundancies in this dataset?</h3>
<p>Yes. As described below, errors may be introduced in the dataset through human error by the blogger, or through machine error by the parsing code.</p>
<p>Human errors may include:</p>
<ul>
<li>missing enumerations (i.e. the clue does not specify the number of letters in the answer)</li>
<li>mismatched parentheses or braces</li>
<li>typos</li>
</ul>
<p>Machine errors may include:</p>
<ul>
<li>missing or redundant definitions</li>
<li>multi-word answers split across the <code>answer</code> and <code>annotation</code> columns</li>
</ul>
<h3 id="is-this-dataset-self-contained-or-does-it-link-to-or-otherwise-rely-on-external-resources-e.g.-websites-tweets-other-datasets">Is this dataset self-contained, or does it link to or otherwise rely on external resources (e.g., websites, tweets, other datasets)?</h3>
<p>Asides from the <code>puzzle_url</code>, the dataset is self-contained. Users are encouraged to ignore the <code>puzzle_url</code> column and treat the dataset as self-contained, as the <code>puzzle_url</code> column is sparse, does not bring much value and may be removed in a future version of the dataset.</p>
<h3 id="does-this-dataset-contain-data-that-might-be-considered-confidential">Does this dataset contain data that might be considered confidential?</h3>
<p>No. All cryptic crossword clues have been published (either in newspapers or in online publications) and are not confidential.</p>
<h3 id="does-this-dataset-contain-data-that-if-viewed-directly-might-be-offensive-insulting-threatening-or-might-otherwise-cause-anxiety">Does this dataset contain data that, if viewed directly, might be offensive, insulting, threatening, or might otherwise cause anxiety?</h3>
<p>To my knowledge, no. These clues are published in widely syndicated newspapers or online publications, and are thus unlikely to contain offensive content.</p>
<p>However, identifying offensive content is difficult, particularly for cryptic crosswords: even if the answer itself is not an offensive word, the wordplay may involve words or logic that may be offensive. This is probably best explained by quoting a <a href="https://www.theguardian.com/crosswords/crossword-blog/2013/dec/18/cryptic-crosswords-too-rude-for-americans-puzzle">Guardian article on cryptic crosswords</a>:</p>
<blockquote>
<p>Even puzzles that appear innocent may have something suggestive squirrelled away, as with an early Guardian grid by the setter Paul, which contained, without further comment, the entries HORSEMEN, WIDOW TWANKEY, CHARDONNAY, SCUNTHORPE, HOT WATER and, of course, MISHIT.</p>
</blockquote>
<h2 id="collection-process">Collection Process</h2>
<h3 id="how-was-the-data-associated-with-each-row-acquired-what-mechanisms-or-procedures-were-used-to-collect-the-data">How was the data associated with each row acquired? What mechanisms or procedures were used to collect the data?</h3>
<p>The data collection process breaks down into roughly three parts.</p>
<p>The first part is simply scraping all the web pages and writing the HTML to a SQLite table to avoid re-requesting them. Web scraping was done using the Python <code>requests</code> library.</p>
<p>The second part is a collection of functions that each take the scraped HTML and attempt to parse out the data using <code>beautifulsoup</code> and <code>pandas</code>. Since blog posts are written by a small team of individual bloggers - many of whom stick with a particular blog post template - there are only a small number (less than a dozen) of distinct “types” of blog posts, from an HTML parsing perspective. Accordingly, there are around a dozen functions, which are called successively until one of them doesn’t crash and returns a table of parsed clues. This parsed table then gets written to SQLite.</p>
<p>The third part is human evaluation of the clues. Between the human errors from the blogger and machine errors from the parsing code, it’s instructive to manually look through a random sample of the clues for any errors. It’s possible to gamify this with a CLI “cryptic practice tool” (<a href="https://github.com/eigenfoo/cryptics/blob/main/cryptics/review.py"><code>review.py</code></a>), which displays a random clue, allows the user to ask for crossing letters as hints, prompts the user for the answer, and allows the user to edit the clue if necessary. This has surfaced a decent number of systematic errors, which can be corrected by either modifying the parsing code and re-parsing the saved HTML, or by simply running ad hoc SQL queries against the table of parsed clues. However, since I can’t possibly manually review all these clues by myself, it’s admittedly difficult to see what further value human evaluation brings.</p>
<h3 id="who-was-involved-in-the-data-collection-process-and-how-were-they-compensated">Who was involved in the data collection process and how were they compensated?</h3>
<p>Since this dataset is the result of a side project in my free time, the only person involved in the data collection process was me (George Ho). I was not compensated for this work.</p>
<h3 id="over-what-timeframe-was-the-data-collected">Over what timeframe was the data collected?</h3>
<p>The scraped blog posts cover crosswords published from January 2009 to September 2021: a twelve year period. New blog posts are being published daily and can be parsed to augment the dataset.</p>
<h2 id="preprocessing-and-cleaning">Preprocessing and Cleaning</h2>
<h3 id="was-any-preprocessingcleaning-of-the-data-done">Was any preprocessing/cleaning of the data done?</h3>
<p>Yes. As discussed above, the raw HTML is preprocessed/cleaned by parsing and extracting the clues from the unstructured HTML into a structured table of clues and answers. This parsing is the main value-add of this dataset over the raw blog posts.</p>
<h3 id="is-the-software-used-to-preprocessclean-the-data-available">Is the software used to preprocess/clean the data available?</h3>
<p><a href="https://github.com/eigenfoo/cryptics">Yes, you can view it on GitHub.</a> The following four modules contain the preprocessing and cleaning code:</p>
<ul>
<li><a href="https://github.com/eigenfoo/cryptics/blob/main/cryptics/lists.py"><code>cryptics/lists.py</code></a></li>
<li><a href="https://github.com/eigenfoo/cryptics/blob/main/cryptics/puzzes.py"><code>cryptics/puzzes.py</code></a></li>
<li><a href="https://github.com/eigenfoo/cryptics/blob/main/cryptics/tables.py"><code>cryptics/tables.py</code></a></li>
<li><a href="https://github.com/eigenfoo/cryptics/blob/main/cryptics/text.py"><code>cryptics/text.py</code></a></li>
</ul>
<h3 id="was-the-raw-data-saved-in-addition-to-the-preprocessedcleaned-data-e.g.-to-support-unanticipated-future-uses">Was the raw data saved in addition to the preprocessed/cleaned data (e.g. to support unanticipated future uses)?</h3>
<p>Yes: as discussed above, the raw HTML for the blog posts have been saved to avoid re-requesting. However, the raw HTML is not published, due to size constraints.</p>
<p>Please <a href="https://raw.githubusercontent.com/eigenfoo/eigenfoo.xyz/master/assets/images/email.png">contact me</a> if you’d like to receive the raw data. Alternatively, you can simply rerun the open source <a href="https://github.com/eigenfoo/cryptics"><code>cryptics</code></a> library to recreate the dataset yourself.</p>
<h2 id="uses">Uses</h2>
<h3 id="has-this-dataset-been-used-for-any-tasks-already-is-there-a-repository-that-links-to-any-or-all-papers-or-systems-that-use-this-dataset">Has this dataset been used for any tasks already? Is there a repository that links to any or all papers or systems that use this dataset?</h3>
<p>The most immediate use case is for cryptic crossword constructors and solvers, both as a lookup table for answers and also to see how an answer has been clued in the past by other constructors.</p>
<p>Beyond that though, I am unaware of other uses for the dataset. If you are using it, please <a href="https://raw.githubusercontent.com/eigenfoo/eigenfoo.xyz/master/assets/images/email.png">let me know</a>!</p>
<h2 id="distribution">Distribution</h2>
<h3 id="how-will-this-dataset-will-be-distributed-e.g.-tarball-on-website-api-github">How will this dataset will be distributed (e.g., tarball on website, API, GitHub)?</h3>
<p>The dataset will be distributed via a hosted <a href="https://datasette.io/">Datasette</a> site. For more information, please watch Simon Willison’s <a href="https://youtu.be/7kDFBnXaw-c">introduction to Datasette on YouTube</a>.</p>
<h3 id="is-this-dataset-distributed-under-a-copyright-or-other-intellectual-property-ip-license-andor-under-applicable-terms-of-use-tou">Is this dataset distributed under a copyright or other intellectual property (IP) license, and/or under applicable terms of use (ToU)?</h3>
<p>No.</p>
<h3 id="have-any-third-parties-imposed-ip-based-or-other-restrictions-on-the-data">Have any third parties imposed IP-based or other restrictions on the data?</h3>
<p>No.</p>
<h2 id="maintenance">Maintenance</h2>
<h3 id="who-is-supportinghostingmaintaining-this-dataset">Who is supporting/hosting/maintaining this dataset?</h3>
<p>Me, <a href="https://eigenfoo.xyz/">George Ho</a>.</p>
<h3 id="how-can-the-ownercuratormanager-of-this-dataset-be-contacted">How can the owner/curator/manager of this dataset be contacted?</h3>
<p>I can be reached via <a href="https://raw.githubusercontent.com/eigenfoo/eigenfoo.xyz/master/assets/images/email.png">email</a>.</p>
<h3 id="is-there-an-erratum">Is there an erratum?</h3>
<p>Not currently, although there will eventually be a <code>CHANGELOG.md</code>.</p>
<h3 id="will-this-dataset-be-updated-e.g.-to-correct-labeling-errors-add-new-rows-delete-rows">Will this dataset be updated (e.g., to correct labeling errors, add new rows, delete rows)?</h3>
<p>Yes. There is no set schedule for releases of new versions of the data. Updates will most likely entail:</p>
<ul>
<li>adding new rows from new blog posts</li>
<li>correcting parsing errors (described above), either by overwriting the row or deleting it entirely</li>
</ul>
<h3 id="will-older-versions-of-this-dataset-continue-to-be-supportedhostedmaintained">Will older versions of this dataset continue to be supported/hosted/maintained?</h3>
<p>Older versions of the data will <em>not</em> be supported, hosted or maintained.</p>
<h3 id="if-others-want-to-extendaugmentbuild-oncontribute-to-this-dataset-is-there-a-mechanism-for-them-to-do-so">If others want to extend/augment/build on/contribute to this dataset, is there a mechanism for them to do so?</h3>
<p>Yes. Please <a href="https://github.com/eigenfoo/cryptics/issues">raise an issue on GitHub</a> if you have a specific issue in mind. Otherwise, please reach out to me <a href="https://raw.githubusercontent.com/eigenfoo/eigenfoo.xyz/master/assets/images/email.png">via email</a>.</p>
</main>

<script>
;(function() {
  // Non-essential if user has JavaScript off. Just makes checkboxes look nicer.
  var selector = '.task-list > li > input[type="checkbox"]';
  var checkboxes = document.querySelectorAll(selector);
  Array.from(checkboxes).forEach((checkbox) => {
    var wasChecked = checkbox.checked;
    checkbox.disabled = false;
    checkbox.addEventListener('click', (ev) => {ev.target.checked = wasChecked});
  });
})();
</script>
</body>
</html>
